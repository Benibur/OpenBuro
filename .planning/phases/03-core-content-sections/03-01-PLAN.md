---
phase: 03-core-content-sections
plan: 01
type: execute
wave: 1
depends_on: ["02-02"]
files_modified: [index.html]
autonomous: false
must_haves:
  truths:
    - "User sees Problem section with 3 constat cards explaining current marketplace challenges"
    - "User sees Vision section with animated transformation diagram showing isolated apps becoming unified workplace"
    - "Transformation diagram lines draw in smoothly when section enters viewport"
    - "User sees 4 feature cards below transformation diagram"
  artifacts:
    - path: "index.html"
      provides: "Problem section HTML with 2-column layout and 3 constat cards"
      contains: '<section id="problem"'
    - path: "index.html"
      provides: "Vision section HTML with SVG transformation diagram"
      contains: '<section id="vision"'
    - path: "index.html"
      provides: "SVG draw-in animation JavaScript using Intersection Observer"
      contains: "function animateSVGPaths"
    - path: "index.html"
      provides: "CSS for card layouts, diagram styling, responsive design"
      contains: ".constat-card"
  key_links:
    - from: "SVG path elements"
      to: "animateSVGPaths function"
      via: "Intersection Observer trigger"
      pattern: "observer\\.observe.*#vision"
    - from: "CSS custom properties (--color-primary, --color-accent)"
      to: "Problem/Vision section styles"
      via: "var() references"
      pattern: "var\\(--color-"
---

<objective>
Create Problem and Vision sections with responsive card layouts and animated SVG transformation diagram.

Purpose: Communicate Open Buro's value proposition by first showing the current marketplace challenges (Problem), then presenting the solution as a visual transformation (Vision). The animated diagram creates a memorable "aha moment" showing isolated apps becoming a unified workplace.

Output: Two complete content sections with 3 constat cards, animated 3-step transformation diagram, and 4 feature cards. All content in English per project decisions.
</objective>

<execution_context>
@/Users/mmaudet/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mmaudet/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/research/SUMMARY.md

# Phase dependencies (execution order)
# Phase 1: Foundation provides CSS design system and HTML structure skeleton
# Phase 2: Hero provides canvas animation patterns and Intersection Observer setup
# This phase builds on that foundation with scroll-triggered SVG animation
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Problem Section with 3 Constat Cards</name>
  <files>index.html</files>
  <action>
Add Problem section after Hero section with the following structure:

**Section container:**
- ID: "problem"
- Badge: "LE CONSTAT" (uppercase)
- H2: "The Workplace Tech Paradox"
- 2-column layout: text left (40%), cards right (60%)
- Left column text: "European organizations invest millions in open source workplace apps‚Äîemail, document collaboration, project management, video conferencing‚Äîyet these tools remain isolated islands. Users juggle multiple logins, data sits in silos, and workflows break at app boundaries. The promise of open source flexibility becomes a burden of fragmentation."

**Three constat cards (right column, vertical stack):**

Card 1:
- Icon: üîê (lock emoji, large size)
- Title: "Login Fatigue"
- Description: "Users authenticate 5-10 times daily across separate apps. SSO exists but requires custom integration for each tool. Password managers become mandatory, not convenience."

Card 2:
- Icon: üèùÔ∏è (island emoji)
- Title: "Data Islands"
- Description: "Customer mentions in email don't link to CRM records. Meeting notes live separately from project tasks. Search works within apps, never across them. Knowledge scatters."

Card 3:
- Icon: üîÄ (shuffle emoji)
- Title: "Context Switching Tax"
- Description: "Moving between apps means mental model switching. Different navigation patterns, inconsistent terminology, no shared workspace. Productivity bleeds at every boundary."

**CSS requirements:**
- Use design system tokens from Phase 1 (--color-text-primary, --color-bg-secondary, --spacing-lg, etc.)
- Cards: dark background (--color-bg-secondary), 1px border (--color-border), border-radius 12px, padding 2rem
- Card hover: translateY(-4px), border color shift to --color-accent, box-shadow elevation
- Responsive: 2-column layout on desktop (‚â•768px), single column on mobile with cards below text
- Icons: font-size 3rem, margin-bottom 1rem
- Section padding: 6rem vertical (3rem mobile)

**Accessibility:**
- Semantic HTML: section > div.container > div.grid
- ARIA: aria-label="Problem statement" on section
- Card titles: h3 elements (proper heading hierarchy after h2)

Integrate into existing HTML structure (insert after Hero section, before any existing Vision section placeholder).
  </action>
  <verify>
1. Open index.html in browser
2. Scroll to Problem section
3. Verify: Badge displays "LE CONSTAT", heading visible, text readable
4. Verify: 3 cards display with icons, titles, descriptions
5. Verify: 2-column layout on desktop (>768px), single column on mobile
6. Verify: Card hover effects work (elevation, border color change)
  </verify>
  <done>
Problem section exists with 2-column layout (text + 3 constat cards), responsive design works on mobile/desktop, cards have hover effects, content is in English.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create Vision Section with Animated Transformation Diagram</name>
  <files>index.html</files>
  <action>
Add Vision section after Problem section with animated SVG transformation diagram.

**Section container:**
- ID: "vision"
- Badge: "LA VISION"
- H2: "From Fragmentation to Unity"
- Subtitle: "Open Buro orchestrates existing apps into a cohesive platform‚Äîno vendor lock-in, no rip-and-replace."

**Transformation diagram (SVG, 3 horizontal steps):**

Create inline SVG (viewBox="0 0 1000 300") with three stages connected by animated arrows:

**Stage 1 (x=50):** "Isolated Apps"
- 3 small boxes stacked vertically (representing separate apps)
- Labels: "Email", "Docs", "Tasks"
- Visual style: muted gray, dashed borders

**Arrow 1 (x=250):** Animated arrow pointing right
- SVG path with stroke-dasharray animation (draw-in effect on scroll)
- Color: --color-accent
- Arrow head with gradient

**Stage 2 (x=400):** "Open Buro Layer"
- Central box with network icon/pattern
- Label: "Open Buro Standard"
- Visual style: accent border, glow effect
- Callouts: "SSO", "Unified Nav", "Cross-app Data"

**Arrow 2 (x=650):** Animated arrow pointing right
- Same draw-in animation as Arrow 1

**Stage 3 (x=800):** "Unified Workplace"
- Single larger box with connected nodes inside
- Label: "Seamless Experience"
- Visual style: solid accent border, integrated appearance

**Responsive:**
- Horizontal layout on desktop (‚â•768px)
- Vertical layout on mobile (<768px): stages stack, arrows point down

**Animation implementation:**
Add JavaScript function `animateSVGPaths()` inside existing `<script>` tag:

```javascript
function animateSVGPaths() {
  const paths = document.querySelectorAll('#vision svg path.animated-path');
  const visionSection = document.querySelector('#vision');

  if (!visionSection || paths.length === 0) return;

  // Use existing Intersection Observer pattern from Phase 2
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        paths.forEach((path, index) => {
          const length = path.getTotalLength();
          path.style.strokeDasharray = length;
          path.style.strokeDashoffset = length;

          // Stagger animation: 500ms delay between paths
          setTimeout(() => {
            path.style.transition = 'stroke-dashoffset 1.5s ease-in-out';
            path.style.strokeDashoffset = '0';
          }, index * 500);
        });

        observer.unobserve(visionSection);
      }
    });
  }, { threshold: 0.3 });

  observer.observe(visionSection);
}

// Call on DOMContentLoaded (add to existing initialization)
document.addEventListener('DOMContentLoaded', () => {
  animateSVGPaths();
  // ... other initialization
});
```

**Respect prefers-reduced-motion:**
Add media query check before animation:
```javascript
const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
if (prefersReducedMotion) {
  // Show paths immediately, skip animation
  paths.forEach(path => path.style.strokeDashoffset = '0');
  return;
}
```

**Four feature cards below diagram:**

Card 1: "Universal Packaging"
- Icon: üì¶
- Text: "Standard app format. One registry. Any publisher can contribute."

Card 2: "Shared Navigation"
- Icon: üß≠
- Text: "Common home, unified app grid, global search. Users never lost."

Card 3: "Cross-App Data"
- Icon: üîó
- Text: "Business objects flow between apps. Semantic graph connects knowledge."

Card 4: "Collective Identity"
- Icon: üë•
- Text: "Organization-wide groups, permissions, presence. Manage once, apply everywhere."

Feature cards layout: 2x2 grid on desktop, single column on mobile. Same card styling as Problem section.

**Conclusion quote below cards:**
Blockquote with accent left border:
"Open Buro doesn't replace your apps. It makes them work together."
  </action>
  <verify>
1. Scroll to Vision section in browser
2. Verify: Diagram displays with 3 stages and 2 arrows
3. Verify: When section enters viewport, arrows draw in smoothly (1.5s animation)
4. Verify: Animation staggers (second arrow starts 500ms after first)
5. Verify: 4 feature cards display in 2x2 grid (desktop) or single column (mobile)
6. Verify: Conclusion quote displays with accent border
7. Test: Enable prefers-reduced-motion in browser DevTools ‚Üí arrows should appear instantly without animation
  </verify>
  <done>
Vision section exists with 3-stage SVG transformation diagram, arrows draw in on scroll with Intersection Observer, animation respects prefers-reduced-motion, 4 feature cards display below diagram, responsive design works on mobile/desktop.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Problem and Vision sections with:
- 3 constat cards explaining marketplace challenges (Login Fatigue, Data Islands, Context Switching Tax)
- Animated SVG transformation diagram showing isolated apps ‚Üí Open Buro ‚Üí unified workplace
- SVG path draw-in animation triggered on scroll
- 4 feature cards below diagram (Universal Packaging, Shared Navigation, Cross-App Data, Collective Identity)
- Responsive 2-column layouts collapsing to single column on mobile
- Hover effects on cards (elevation, border accent)
  </what-built>
  <how-to-verify>
**Visual verification:**

1. Open `index.html` in browser (Chrome/Firefox recommended)
2. Scroll to **Problem section** ("LE CONSTAT" badge):
   - **Expected:** 2-column layout with text left, 3 cards right (on desktop ‚â•768px)
   - **Expected:** Cards show üîê Login Fatigue, üèùÔ∏è Data Islands, üîÄ Context Switching Tax
   - **Expected:** Hover over cards ‚Üí elevate 4px, border color shifts to accent

3. Resize browser to mobile width (<768px):
   - **Expected:** Problem section becomes single column (text above, cards stacked below)

4. Scroll to **Vision section** ("LA VISION" badge):
   - **Expected:** SVG diagram displays with 3 stages: "Isolated Apps" ‚Üí "Open Buro Layer" ‚Üí "Unified Workplace"
   - **Expected:** As section enters viewport, arrows between stages draw in smoothly from left to right
   - **Expected:** Second arrow animates 500ms after first (staggered)
   - **Expected:** 4 feature cards display in 2x2 grid below diagram

5. Reload page and scroll to Vision section again:
   - **Expected:** Animation triggers each time section enters viewport on fresh load

6. Test reduced motion:
   - Open DevTools ‚Üí ‚åò‚áßP (Cmd+Shift+P) ‚Üí "Emulate CSS prefers-reduced-motion"
   - Reload page, scroll to Vision section
   - **Expected:** Arrows appear instantly without draw-in animation

**Issues to check:**
- Cards not displaying in 2 columns on desktop
- SVG animation not triggering on scroll
- Hover effects not working
- Mobile layout not stacking properly
- Animation triggering multiple times on scroll up/down
- Reduced motion not respected
  </how-to-verify>
  <resume-signal>
Type **"approved"** if all checks pass.

If issues found, describe specifically:
- Which verification step failed
- What you see vs. what's expected
- Browser/device used
  </resume-signal>
</task>

</tasks>

<verification>
**Overall phase checks:**

1. Requirements coverage:
   - PROB-01: Problem section with badge, H2, 2-column layout ‚úì
   - PROB-02: Three constat cards with icons, titles, descriptions ‚úì
   - PROB-03: Cards appear in staggered cascade (handled by Phase 6 scroll animations)
   - VIS-01: Vision section with badge, H2, subtitle ‚úì
   - VIS-02: Transformation diagram shows 3-step flow ‚úì
   - VIS-03: Diagram connection lines draw in on scroll ‚úì
   - VIS-04: Four feature cards below diagram ‚úì
   - VIS-05: Conclusion quote displayed ‚úì

2. Design system integration:
   - Uses CSS custom properties from Phase 1 (--color-*, --spacing-*)
   - Consistent typography hierarchy (H2 > H3)
   - Section padding matches design system (6rem vertical)

3. Performance:
   - Single Intersection Observer instance
   - Animation pauses after completion (unobserve after trigger)
   - Respects prefers-reduced-motion
   - SVG inline (no external requests)

4. Accessibility:
   - Semantic HTML structure
   - ARIA labels on sections
   - Proper heading hierarchy
   - Keyboard accessible (no interaction required for SVG animation)

5. Responsive design:
   - 2-column layouts work on desktop
   - Single column layouts work on mobile
   - SVG diagram adapts (horizontal ‚Üí vertical)
</verification>

<success_criteria>
1. Problem section displays with 2-column layout (text + 3 constat cards) on desktop
2. Vision section displays with animated SVG transformation diagram
3. SVG arrows draw in smoothly when section enters viewport (1.5s animation, 500ms stagger)
4. Four feature cards display below diagram in 2x2 grid (desktop) or single column (mobile)
5. All layouts responsive (tested at 320px, 768px, 1440px widths)
6. Card hover effects work (translateY, border accent, shadow)
7. Animation respects prefers-reduced-motion (instant display, no draw-in)
8. No JavaScript errors in console
9. Content is in English (all text, labels, descriptions)
</success_criteria>

<output>
After completion, create `.planning/phases/03-core-content-sections/03-01-SUMMARY.md` following the summary template with:

**Artifacts created:**
- Problem section HTML with 3 constat cards
- Vision section HTML with SVG transformation diagram
- JavaScript function `animateSVGPaths()` for scroll-triggered SVG animation
- CSS for card layouts, diagram styling, responsive breakpoints

**Key decisions:**
- SVG inline (not external file) for single-file constraint
- Draw-in animation uses stroke-dasharray + stroke-dashoffset technique
- Intersection Observer threshold 0.3 (triggers when 30% of section visible)
- Feature cards use same styling as constat cards for consistency

**Integration points:**
- CSS custom properties from Phase 1 design system
- Intersection Observer pattern from Phase 2 hero animation
- Existing JavaScript initialization (DOMContentLoaded event)
</output>
