---
phase: 06-animations-interactivity
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified: [index.html]
autonomous: false

must_haves:
  truths:
    - "User can open mobile hamburger menu with smooth slide-out drawer"
    - "User can close mobile menu by clicking close button or outside drawer"
    - "Mobile menu has proper ARIA labels for accessibility"
    - "Cards elevate on hover with smooth transition"
    - "Links display animated underline on hover"
  artifacts:
    - path: "index.html"
      provides: "Mobile hamburger menu with accessible drawer"
      contains: "hamburger-menu"
      min_lines: 3000
    - path: "index.html"
      provides: "Card hover elevation styles"
      contains: "hover:translate"
    - path: "index.html"
      provides: "Animated link underlines"
      contains: "link-underline"
  key_links:
    - from: "hamburger button click"
      to: "mobile drawer visibility"
      via: "classList.toggle on drawer element"
      pattern: "addEventListener\\('click'"
    - from: "card hover state"
      to: "transform translateY and box-shadow"
      via: "CSS :hover selector"
      pattern: "hover:.*translateY"
    - from: "link hover state"
      to: "underline width animation"
      via: "CSS ::after pseudo-element transition"
      pattern: "after:.*width"
---

<objective>
Implement mobile hamburger navigation with accessible slide-out drawer and add interactive polish through card hover elevations and animated link underlines.

Purpose: Complete the interactive experience with essential mobile navigation and subtle hover effects that communicate interactivity and elevate perceived quality.

Output: Fully functional mobile menu and polished hover states that work smoothly across all devices and screen sizes.
</objective>

<execution_context>
@/Users/mmaudet/.claude/get-shit-done/workflows/execute-plan.md
@/Users/mmaudet/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/research/PITFALLS.md
@.planning/phases/06-animations-interactivity/06-01-SUMMARY.md

Phase Context:
- Single HTML file architecture (all CSS and JS inline)
- Vanilla JavaScript only (no frameworks)
- Mobile-first responsive design (breakpoints: 768px, 1024px, 1440px)
- Dark mode design with network/constellation motif
- Accessibility is critical (ARIA labels, keyboard navigation, focus management)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Implement mobile hamburger menu with accessible slide-out drawer</name>
  <files>index.html</files>
  <action>
Add mobile navigation to index.html:

**HTML (in navbar section):**
1. Add hamburger button before existing nav links:
   ```html
   <button id="mobile-menu-toggle" class="md:hidden" aria-label="Toggle navigation menu" aria-expanded="false">
     <!-- Hamburger icon (3 horizontal bars as SVG or spans) -->
   </button>
   ```
2. Wrap existing nav links in mobile drawer div:
   ```html
   <div id="mobile-drawer" class="mobile-drawer" role="navigation" aria-label="Main navigation">
     <!-- Existing nav links -->
     <button id="mobile-menu-close" aria-label="Close navigation menu">X</button>
   </div>
   ```

**CSS (in existing `<style>` tag):**
1. Hide hamburger button on desktop: `.md:hidden` (visible only < 768px)
2. Style mobile drawer:
   - Default state: position fixed, right -100% (offscreen), width 280px, height 100vh, top 0
   - Background: dark with slight transparency, backdrop-filter blur
   - Z-index above navbar
   - Transition: transform 300ms ease-out
3. Style drawer open state `.drawer-open`:
   - Transform: translateX(-100%) (slides in from right)
4. Style overlay (when drawer open):
   - Position fixed, inset 0, background rgba(0,0,0,0.5), z-index below drawer
   - Opacity transition 300ms
5. On desktop (≥768px): hide drawer completely, show inline nav links as normal
6. Mobile nav link styles: vertical stack, padding, full width, hover/active states

**JavaScript (in existing `<script>` tag):**
1. Query elements: hamburger button, drawer, close button, overlay
2. Create toggle function:
   - Toggle `.drawer-open` class on drawer
   - Toggle `aria-expanded` on hamburger button
   - Create/remove overlay div
   - Toggle body scroll lock (prevent background scroll when menu open)
3. Add click listener to hamburger button → toggle function
4. Add click listener to close button → toggle function
5. Add click listener to overlay → toggle function (close on outside click)
6. Add click listeners to nav links → toggle function (close after navigation)
7. Add keyboard support:
   - Escape key closes drawer
   - Tab focus trapped within drawer when open
   - Focus returns to hamburger button on close

**ARIA requirements (NAV-04):**
- Hamburger button: aria-label="Toggle navigation menu", aria-expanded="true/false"
- Drawer: role="navigation", aria-label="Main navigation"
- Close button: aria-label="Close navigation menu"
- Proper focus management (trap focus in drawer when open)

**Critical constraints from PITFALLS.md:**
- Touch target minimum 48x48px for hamburger button
- Smooth 300ms transition (not janky)
- Prevent body scroll when drawer open (add overflow: hidden to body)
- Use transform for animation (GPU-accelerated), not left/right positioning
  </action>
  <verify>
1. Resize browser to mobile width (<768px)
2. Verify hamburger button is visible and ≥48x48px touch target
3. Click hamburger button:
   - Drawer slides in smoothly from right (300ms)
   - Overlay appears behind drawer
   - Body scroll is locked
   - aria-expanded="true" on button (check DevTools)
4. Click outside drawer (on overlay):
   - Drawer closes smoothly
   - Overlay disappears
   - Body scroll unlocked
5. Open drawer again, click close button:
   - Drawer closes
6. Open drawer, press Escape key:
   - Drawer closes
7. Open drawer, press Tab:
   - Focus moves through nav links within drawer only (trapped)
8. Click nav link:
   - Drawer closes
   - Page scrolls to section
9. Resize to desktop (≥768px):
   - Hamburger button hidden
   - Nav links visible inline in navbar
   - Drawer hidden
  </verify>
  <done>
- Hamburger button visible on mobile (<768px), hidden on desktop
- Hamburger button ≥48x48px touch target
- Drawer slides in/out smoothly with 300ms transition
- Drawer closes on outside click, close button, Escape key, or nav link click
- Body scroll locked when drawer open
- ARIA labels present and correct (aria-expanded toggles)
- Focus trapped in drawer when open
- Desktop view shows inline nav links, no hamburger or drawer
  </done>
</task>

<task type="auto">
  <name>Task 2: Add card hover effects and animated link underlines</name>
  <files>index.html</files>
  <action>
Add interactive hover polish to index.html:

**Card Hover Effects (ANIM-04):**
1. Target card elements (constat cards, feature cards, article cards, ecosystem partner cards)
2. Add CSS hover states:
   ```css
   .card {
     transition: transform 300ms ease-out, box-shadow 300ms ease-out, border-color 300ms ease-out;
   }
   .card:hover {
     transform: translateY(-4px);
     box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
     border-color: var(--accent-color); /* accent from design system */
   }
   ```
3. Use GPU-accelerated transform (translateY), not top/margin
4. Ensure smooth 300ms transition as specified
5. Add will-change: transform to cards (pre-optimize for hover, but limit to <10 elements to avoid GPU memory issues)

**Link Animated Underlines (ANIM-05):**
1. Target interactive links (nav links, footer links, read more links, CTA secondary buttons)
2. Add animated underline using ::after pseudo-element:
   ```css
   .link {
     position: relative;
   }
   .link::after {
     content: '';
     position: absolute;
     bottom: 0;
     left: 0;
     width: 0;
     height: 2px;
     background: var(--accent-color);
     transition: width 300ms ease-out;
   }
   .link:hover::after {
     width: 100%;
   }
   ```
3. Ensure underline animates smoothly from left to right on hover
4. Exclude primary CTA buttons (they have different hover state)

**Responsive considerations:**
- On mobile: card hover may not work (no hover state on touch)
- On mobile: show underline by default or use :active state instead of :hover
- Use @media (hover: hover) to detect hover-capable devices:
   ```css
   @media (hover: hover) {
     .card:hover { /* hover effects */ }
   }
   ```

**Critical constraints:**
- Animate only transform and opacity (GPU-accelerated)
- Use 300ms transition duration per requirements
- Do NOT animate width, height, or layout properties (causes jank)
- Respect prefers-reduced-motion (disable transitions if set)
  </action>
  <verify>
1. Open index.html in browser on desktop
2. Hover over constat cards, feature cards, article cards:
   - Verify cards elevate with translateY(-4px)
   - Verify box-shadow increases
   - Verify border color changes to accent
   - Verify transition is smooth 300ms
3. Hover over navigation links, footer links:
   - Verify underline animates from left to right
   - Verify animation is smooth 300ms
4. Test on mobile (DevTools device emulation):
   - Verify cards don't break (hover states handled gracefully)
   - Verify links remain usable
5. Test with prefers-reduced-motion:
   - DevTools → Rendering → Emulate CSS prefers-reduced-motion: reduce
   - Hover over cards and links
   - Verify no transitions (immediate state change)
6. Check performance:
   - DevTools Performance tab, record while hovering
   - Verify 60 FPS, no layout thrashing
  </verify>
  <done>
- Cards elevate on hover with translateY(-4px), box-shadow increase, border accent
- Card hover transition is smooth 300ms
- Links display animated underline from 0 to 100% width on hover
- Link underline transition is smooth 300ms
- Hover effects use transform/opacity only (GPU-accelerated)
- Hover effects disabled on non-hover devices (mobile touch)
- Hover effects respect prefers-reduced-motion (disabled if set)
- Performance: 60 FPS during hover, no layout thrashing
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Complete mobile navigation and interactive polish:
- Mobile hamburger menu with slide-out drawer
- Accessible navigation with ARIA labels and focus management
- Card hover elevations (translateY -4px, shadow, border accent)
- Animated link underlines (width 0 → 100% on hover)
  </what-built>
  <how-to-verify>
**Mobile Navigation:**
1. Resize browser to mobile (<768px):
   - Verify hamburger button visible and properly sized (≥48x48px)
2. Click hamburger button:
   - Drawer slides in from right smoothly
   - Overlay appears behind drawer
   - Body scroll locked (cannot scroll background)
3. Test close mechanisms:
   - Click outside drawer → closes smoothly
   - Click close button → closes smoothly
   - Press Escape key → closes smoothly
   - Click nav link → drawer closes and page scrolls to section
4. Test accessibility:
   - Tab through open drawer → focus trapped within drawer
   - Check aria-expanded attribute (DevTools): "false" when closed, "true" when open
   - Close drawer → focus returns to hamburger button
5. Resize to desktop (≥768px):
   - Hamburger hidden, nav links visible inline

**Interactive Polish:**
1. Desktop view, hover over cards:
   - Cards elevate smoothly upward
   - Shadow increases
   - Border changes to accent color
   - Transition is smooth 300ms (not instant or laggy)
2. Hover over links (nav, footer, read more):
   - Underline animates from left to right
   - Smooth 300ms animation
3. Mobile view (touch device):
   - Cards remain usable
   - Links clickable without hover issues

**Accessibility:**
1. Enable prefers-reduced-motion:
   - DevTools → Rendering → Emulate CSS prefers-reduced-motion: reduce
2. Test drawer open/close:
   - Drawer should open/close immediately (no slide animation)
3. Test card hover:
   - Cards should change state immediately (no transition)

**Performance:**
1. DevTools Performance tab:
   - Record while opening/closing drawer 5 times
   - Verify 60 FPS, no red bars
2. Record while hovering over cards and links:
   - Verify 60 FPS, no layout thrashing warnings

Expected behavior:
- Mobile menu works smoothly on <768px, hidden on ≥768px
- Drawer animation is smooth 300ms
- All close mechanisms work correctly
- Focus management and ARIA labels correct
- Card hover effects smooth and performant
- Link underlines animate smoothly
- Reduced motion preference respected
- No performance issues (60 FPS maintained)
  </how-to-verify>
  <resume-signal>
Type "approved" if mobile menu functions correctly and hover effects work smoothly, or describe any issues (drawer not sliding, focus bugs, janky animations, accessibility problems).
  </resume-signal>
</task>

</tasks>

<verification>
**Overall Phase Checks:**

1. **Mobile Navigation:**
   - Hamburger button visible <768px, hidden ≥768px
   - Touch target ≥48x48px
   - Drawer slides smoothly (300ms transform transition)
   - Closes on outside click, close button, Escape, nav link click
   - Body scroll locked when open
   - ARIA labels present and correct
   - Focus trapped in open drawer

2. **Interactive Polish:**
   - Cards elevate on hover (translateY -4px, shadow, border accent)
   - Links display animated underline on hover
   - All transitions 300ms smooth
   - Hover effects work on desktop, gracefully handled on mobile
   - GPU-accelerated animations (transform/opacity only)

3. **Accessibility:**
   - prefers-reduced-motion disables all transitions
   - ARIA labels on hamburger, drawer, close button
   - Keyboard navigation works (Tab, Escape)
   - Focus management correct

4. **Performance:**
   - 60 FPS during drawer animation
   - 60 FPS during hover effects
   - No layout thrashing (verified in DevTools)
   - No memory leaks

5. **Requirements Coverage:**
   - NAV-04: Mobile hamburger menu ✓
   - ANIM-04: Card hover elevations ✓
   - ANIM-05: Animated link underlines ✓
</verification>

<success_criteria>
**Measurable Completion:**

1. User on mobile (<768px) sees hamburger button and can open drawer with smooth slide-in animation
2. User can close drawer via outside click, close button, Escape key, or nav link click
3. Drawer has proper ARIA labels (aria-expanded toggles, aria-label on buttons)
4. Focus is trapped within open drawer, returns to hamburger on close
5. User on desktop (≥768px) sees inline nav links, hamburger hidden
6. Cards elevate on hover with translateY(-4px), shadow increase, border accent change within 300ms
7. Links display animated underline growing from 0 to 100% width on hover within 300ms
8. prefers-reduced-motion: reduce disables all transitions (drawer opens instantly, hover states instant)
9. DevTools Performance recording shows 60 FPS during drawer animations and hover interactions
10. Chrome Lighthouse audit maintains Performance score > 90
</success_criteria>

<output>
After completion, create `.planning/phases/06-animations-interactivity/06-02-SUMMARY.md`
</output>
